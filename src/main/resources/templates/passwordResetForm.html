<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Reset Password</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
          rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
          crossorigin="anonymous">
</head>
<body>

<div class="container col-md-offset-3 col-md-8 mt-lg-5">
    <div th:if="${param.succsess}" class="col-cm-8">
        <p class="alert alert-info">You have successfully Reset your password, please log in here</p>
    </div>

    <form  class="login-form" th:action="@{/forgetPassword/password-reset-form}" method="post">
        <h3 class="n-lg-5">Reset Your Password</h3>

                <input type="hidden" class="form-control" name="token" th:value="${token}">

        <div class="mb-3 row">
            <label for="password" class="col-sm-2 col-form-label"><b>New Password</b></label>
            <div class="col-sm-6">
                <input type="password" class="form-control" id="password" autofocus="autofocus"
                       name="password" required placeholder="Enter Password">
            </div>
        </div>
        <div class="mb-3 row">
            <label for="confirmation" class="col-sm-2 col-form-label"><b>Confirm Password</b></label>
            <div class="col-sm-6">
                <input type="password" class="form-control" id="confirmation" autofocus="autofocus"
                       name="confirmPassword" oninput="checkConfirmPassword(this)" required placeholder="Enter Password Confirmation">
            </div>
        </div>
        <div>
            <button type="submit" name="login" id="login" class="btn btn-success">Reset Password</button>
            <span><a href="#" th:href="@{/login}"><b>Login</b></a></span>
        </div>
    </form>
</div>

<script type="text/javascript">
    function checkConfirmPassword() {

        const password = document.querySelector('input[name=password]');
        const confirmPassword = document.querySelector('input[name=confirmPassword]');
        if(confirmPassword.value === password.value){
            confirmPassword.setCustomValidity('');
        }else{
            confirmPassword.setCustomValidity('Confirm password does not Match');
        }
    }
</script>

</body>
</html>